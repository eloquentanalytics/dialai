"use strict";(globalThis.webpackChunkdialai_website=globalThis.webpackChunkdialai_website||[]).push([[5831],{3392(e,t,n){n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"guides/implementing-strategies","title":"Implementing Strategies","description":"Strategies are pluggable implementations for specialist roles. They are loaded from ./strategies//{strategyFunctionKey}.ts.","source":"@site/docs/guides/implementing-strategies.md","sourceDirName":"guides","slug":"/guides/implementing-strategies","permalink":"/dialai/docs/guides/implementing-strategies","draft":false,"unlisted":false,"editUrl":"https://github.com/eloquentanalytics/dialai/tree/main/website/docs/guides/implementing-strategies.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Registering Specialists","permalink":"/dialai/docs/guides/registering-specialists"},"next":{"title":"API Reference","permalink":"/dialai/docs/api/intro"}}');var r=n(4848),i=n(8453);const o={sidebar_position:3},a="Implementing Strategies",p={},l=[{value:"Proposer Strategy",id:"proposer-strategy",level:2},{value:"Voter Strategy",id:"voter-strategy",level:2},{value:"Arbiter Strategy",id:"arbiter-strategy",level:2}];function c(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"implementing-strategies",children:"Implementing Strategies"})}),"\n",(0,r.jsxs)(t.p,{children:["Strategies are pluggable implementations for specialist roles. They are loaded from ",(0,r.jsx)(t.code,{children:"./strategies/{sessionTypeName}/{strategyFunctionKey}.ts"}),"."]}),"\n",(0,r.jsx)(t.h2,{id:"proposer-strategy",children:"Proposer Strategy"}),"\n",(0,r.jsx)(t.p,{children:"A proposer strategy receives the decision prompt, event stream, and model ID, and returns a proposal:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:'import type { ProposalDecisionInput, SubmitProposalCommand } from "dialai";\n\nexport async function myProposer(\n  input: ProposalDecisionInput\n): Promise<SubmitProposalCommand> {\n  const { prompt, eventStream, modelId } = input;\n\n  // Your logic here to generate a proposal\n  // Call LLM, analyze state, etc.\n\n  return {\n    transitionName: "next",\n    toStateName: "working",\n    toParamsJSONString: JSON.stringify({ step: 1 }),\n    reasoning: "Based on the current state, I propose moving to working state.",\n    costUSD: 0.001,\n    latencyMsec: 150,\n    numInputTokens: 100,\n    numOutputTokens: 50\n  };\n}\n'})}),"\n",(0,r.jsx)(t.h2,{id:"voter-strategy",children:"Voter Strategy"}),"\n",(0,r.jsx)(t.p,{children:"A voter strategy compares two proposals:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:'import type { VoteDecisionInput, SubmitVoteCommand } from "dialai";\n\nexport async function myVoter(\n  input: VoteDecisionInput\n): Promise<SubmitVoteCommand> {\n  const { prompt, eventStream, proposalA, proposalB, modelId } = input;\n\n  // Your logic to compare proposals\n\n  return {\n    voteFor: "A", // or "B", "BOTH", "NEITHER"\n    reasoning: "Proposal A better aligns with the decision criteria.",\n    costUSD: 0.0005,\n    latencyMsec: 100,\n    numInputTokens: 200,\n    numOutputTokens: 30\n  };\n}\n'})}),"\n",(0,r.jsx)(t.h2,{id:"arbiter-strategy",children:"Arbiter Strategy"}),"\n",(0,r.jsx)(t.p,{children:"An arbiter strategy evaluates consensus:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:'import type { ArbiterDecisionInput } from "dialai";\n\nexport function myArbiter(\n  input: ArbiterDecisionInput\n): {\n  consensusReached: boolean;\n  winningProposalId?: string;\n  reasoning: string;\n} {\n  const { proposals, votes, riskDial } = input;\n\n  // Your consensus logic here\n\n  return {\n    consensusReached: true,\n    winningProposalId: proposals[0].proposalId,\n    reasoning: "Proposal has sufficient weighted support."\n  };\n}\n'})})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);