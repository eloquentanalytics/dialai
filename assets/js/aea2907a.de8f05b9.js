"use strict";(globalThis.webpackChunkdialai_website=globalThis.webpackChunkdialai_website||[]).push([[9199],{5583(e,s,n){n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"guides/skills/mcp-server/SKILL","title":"MCP Server Mode","description":"Run DIAL as an MCP server for AI assistants. Use when integrating with Claude Desktop or other MCP clients.","source":"@site/docs/guides/skills/mcp-server/SKILL.md","sourceDirName":"guides/skills/mcp-server","slug":"/guides/skills/mcp-server/SKILL","permalink":"/dialai/docs/guides/skills/mcp-server/SKILL","draft":false,"unlisted":false,"editUrl":"https://github.com/eloquentanalytics/dialai/tree/main/website/docs/guides/skills/mcp-server/SKILL.md","tags":[],"version":"current","frontMatter":{"name":"dial-mcp-server","description":"Run DIAL as an MCP server for AI assistants. Use when integrating with Claude Desktop or other MCP clients."}}');var r=n(4848),a=n(8453);const t={name:"dial-mcp-server",description:"Run DIAL as an MCP server for AI assistants. Use when integrating with Claude Desktop or other MCP clients."},l="MCP Server Mode",d={},o=[{value:"Start the Server",id:"start-the-server",level:2},{value:"Configure Claude Desktop",id:"configure-claude-desktop",level:2},{value:"Config File Location",id:"config-file-location",level:3},{value:"Available Tools",id:"available-tools",level:2},{value:"Example Conversation",id:"example-conversation",level:2},{value:"Tool Schemas",id:"tool-schemas",level:2},{value:"dialai_create_session",id:"dialai_create_session",level:3},{value:"dialai_submit_proposal",id:"dialai_submit_proposal",level:3},{value:"dialai_submit_vote",id:"dialai_submit_vote",level:3},{value:"Server Options",id:"server-options",level:2},{value:"Debugging",id:"debugging",level:2}];function c(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"mcp-server-mode",children:"MCP Server Mode"})}),"\n",(0,r.jsx)(s.p,{children:"Expose DIAL as tools via the Model Context Protocol (MCP)."}),"\n",(0,r.jsx)(s.h2,{id:"start-the-server",children:"Start the Server"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"npx dialai --mcp\n"})}),"\n",(0,r.jsx)(s.h2,{id:"configure-claude-desktop",children:"Configure Claude Desktop"}),"\n",(0,r.jsxs)(s.p,{children:["Add to ",(0,r.jsx)(s.code,{children:"claude_desktop_config.json"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "mcpServers": {\n    "dialai": {\n      "command": "npx",\n      "args": ["dialai", "--mcp"]\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(s.h3,{id:"config-file-location",children:"Config File Location"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Platform"}),(0,r.jsx)(s.th,{children:"Path"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"macOS"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"~/Library/Application Support/Claude/claude_desktop_config.json"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Windows"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"%APPDATA%\\Claude\\claude_desktop_config.json"})})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Linux"}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"~/.config/Claude/claude_desktop_config.json"})})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"available-tools",children:"Available Tools"}),"\n",(0,r.jsx)(s.p,{children:"Once connected, Claude has access to these tools:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Tool"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"dialai_create_session"})}),(0,r.jsx)(s.td,{children:"Start a new decision process from a machine definition"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"dialai_get_session"})}),(0,r.jsx)(s.td,{children:"Get current state and history of a session"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"dialai_get_sessions"})}),(0,r.jsx)(s.td,{children:"List all active sessions"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"dialai_submit_proposal"})}),(0,r.jsx)(s.td,{children:"Submit a transition proposal"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"dialai_submit_vote"})}),(0,r.jsx)(s.td,{children:"Cast a vote between proposals"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"dialai_evaluate_consensus"})}),(0,r.jsx)(s.td,{children:"Check if consensus has been reached"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"dialai_execute_transition"})}),(0,r.jsx)(s.td,{children:"Apply the winning proposal"})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"example-conversation",children:"Example Conversation"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"User"}),": Create a code review session for my PR."]}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Claude"})," (using tools):"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:'1. dialai_create_session({ machine: "code-review", context: { pr: 123 } })\n2. dialai_submit_proposal({ sessionId: "...", action: "approve", reasoning: "Tests pass, code is clean" })\n3. dialai_evaluate_consensus({ sessionId: "..." })\n4. dialai_execute_transition({ sessionId: "...", action: "approve" })\n'})}),"\n",(0,r.jsx)(s.h2,{id:"tool-schemas",children:"Tool Schemas"}),"\n",(0,r.jsx)(s.h3,{id:"dialai_create_session",children:"dialai_create_session"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "machine": "machine-id or inline definition",\n  "context": { "optional": "metadata" }\n}\n'})}),"\n",(0,r.jsx)(s.h3,{id:"dialai_submit_proposal",children:"dialai_submit_proposal"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "sessionId": "session-uuid",\n  "specialistId": "proposer-id",\n  "action": "transition-name",\n  "target": "target-state",\n  "reasoning": "Why this transition"\n}\n'})}),"\n",(0,r.jsx)(s.h3,{id:"dialai_submit_vote",children:"dialai_submit_vote"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "sessionId": "session-uuid",\n  "specialistId": "voter-id",\n  "proposalA": "proposal-id-1",\n  "proposalB": "proposal-id-2",\n  "choice": "A" | "B" | "NEITHER",\n  "reasoning": "Why this choice"\n}\n'})}),"\n",(0,r.jsx)(s.h2,{id:"server-options",children:"Server Options"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"# Default port (stdio)\nnpx dialai --mcp\n\n# Custom transport\nnpx dialai --mcp --transport sse --port 3000\n"})}),"\n",(0,r.jsx)(s.h2,{id:"debugging",children:"Debugging"}),"\n",(0,r.jsx)(s.p,{children:"Check server logs:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"npx dialai --mcp --verbose\n"})}),"\n",(0,r.jsx)(s.p,{children:"Test with MCP Inspector:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"npx @modelcontextprotocol/inspector npx dialai --mcp\n"})})]})}function h(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453(e,s,n){n.d(s,{R:()=>t,x:()=>l});var i=n(6540);const r={},a=i.createContext(r);function t(e){const s=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(a.Provider,{value:s},e.children)}}}]);