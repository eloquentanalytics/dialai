"use strict";(globalThis.webpackChunkdialai_website=globalThis.webpackChunkdialai_website||[]).push([[4607],{2615(e,s,t){t.r(s),t.d(s,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"concepts/specialists","title":"Specialists","description":"Specialists are the \\"pluggable\\" actors that participate in sessions. They can be AI models or humans.","source":"@site/docs/concepts/specialists.md","sourceDirName":"concepts","slug":"/concepts/specialists","permalink":"/dialai/docs/concepts/specialists","draft":false,"unlisted":false,"editUrl":"https://github.com/eloquentanalytics/dialai/tree/main/website/docs/concepts/specialists.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Sessions","permalink":"/dialai/docs/concepts/sessions"},"next":{"title":"Decision Cycle","permalink":"/dialai/docs/concepts/decision-cycle"}}');var n=t(4848),r=t(8453);const c={sidebar_position:3},o="Specialists",d={},a=[{value:"Roles",id:"roles",level:2},{value:"Proposers",id:"proposers",level:3},{value:"Voters",id:"voters",level:3},{value:"Arbiters",id:"arbiters",level:3},{value:"Human vs AI Specialists",id:"human-vs-ai-specialists",level:2},{value:"Registering Specialists",id:"registering-specialists",level:2},{value:"Registration Options",id:"registration-options",level:3}];function l(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"specialists",children:"Specialists"})}),"\n",(0,n.jsx)(s.p,{children:'Specialists are the "pluggable" actors that participate in sessions. They can be AI models or humans.'}),"\n",(0,n.jsx)(s.h2,{id:"roles",children:"Roles"}),"\n",(0,n.jsx)(s.h3,{id:"proposers",children:"Proposers"}),"\n",(0,n.jsxs)(s.p,{children:["Proposers analyze the current state and suggest what transition should happen next. Any number of proposers can participate. A proposer's ",(0,n.jsx)(s.code,{children:"strategyFn"})," receives a ",(0,n.jsx)(s.code,{children:"ProposerContext"})," and returns a proposed transition."]}),"\n",(0,n.jsx)(s.h3,{id:"voters",children:"Voters"}),"\n",(0,n.jsxs)(s.p,{children:["Voters evaluate proposals and express preferences between them. They compare pairs of proposals and vote for A, B, BOTH, or NEITHER. A voter's ",(0,n.jsx)(s.code,{children:"strategyFn"})," receives a ",(0,n.jsx)(s.code,{children:"VoterContext"})," and returns a vote choice."]}),"\n",(0,n.jsx)(s.h3,{id:"arbiters",children:"Arbiters"}),"\n",(0,n.jsxs)(s.p,{children:["Arbitration is built into the framework via the ",(0,n.jsx)(s.code,{children:"evaluateConsensus"})," function. For custom consensus logic, register an arbiter with ",(0,n.jsx)(s.code,{children:"registerArbiter"})," and a ",(0,n.jsx)(s.code,{children:"strategyFn"})," that receives an ",(0,n.jsx)(s.code,{children:"ArbiterContext"})," and returns a ",(0,n.jsx)(s.code,{children:"ConsensusResult"}),"."]}),"\n",(0,n.jsx)(s.h2,{id:"human-vs-ai-specialists",children:"Human vs AI Specialists"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Human specialists"}),' are identified by including "human" (case-insensitive) anywhere in their ',(0,n.jsx)(s.code,{children:"specialistId"})," (e.g., ",(0,n.jsx)(s.code,{children:"human-reviewer"}),", ",(0,n.jsx)(s.code,{children:"specialist.human.jane"}),"). When a human specialist votes, their choice wins immediately; no further vote tallying is needed."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"AI specialists"})," participate through voting. Each vote counts equally."]}),"\n",(0,n.jsx)(s.h2,{id:"registering-specialists",children:"Registering Specialists"}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-typescript",children:'import { registerProposer, registerVoter } from "dialai";\n\n// Register a proposer with an inline strategy\nregisterProposer({\n  specialistId: "ai-proposer-1",\n  machineName: "my-task",\n  strategyFn: async (ctx) => {\n    const name = Object.keys(ctx.transitions)[0];\n    return {\n      transitionName: name,\n      toState: ctx.transitions[name],\n      reasoning: "First available transition",\n    };\n  },\n});\n\n// Register a voter\nregisterVoter({\n  specialistId: "ai-voter-1",\n  machineName: "my-task",\n  strategyFn: async (ctx) => ({\n    voteFor: "A",\n    reasoning: "Proposal A moves closer to the goal",\n  }),\n});\n'})}),"\n",(0,n.jsx)(s.h3,{id:"registration-options",children:"Registration Options"}),"\n",(0,n.jsxs)(s.p,{children:["Each registration function (",(0,n.jsx)(s.code,{children:"registerProposer"}),", ",(0,n.jsx)(s.code,{children:"registerVoter"}),", ",(0,n.jsx)(s.code,{children:"registerArbiter"}),") accepts:"]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Field"}),(0,n.jsx)(s.th,{children:"Type"}),(0,n.jsx)(s.th,{children:"Required"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"specialistId"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"string"})}),(0,n.jsx)(s.td,{children:"Yes"}),(0,n.jsx)(s.td,{children:'Unique identifier. Include "human" for human specialists.'})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"machineName"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"string"})}),(0,n.jsx)(s.td,{children:"Yes"}),(0,n.jsx)(s.td,{children:"Which session type this specialist participates in"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"strategyFn"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"async (context) => result"})}),(0,n.jsx)(s.td,{children:"Mode 1"}),(0,n.jsx)(s.td,{children:"Local function that returns a proposal, vote, or ConsensusResult"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"strategyWebhookUrl"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"string"})}),(0,n.jsx)(s.td,{children:"Mode 2"}),(0,n.jsx)(s.td,{children:"URL to POST context to; expects result response"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"contextFn"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"async (context) => string"})}),(0,n.jsx)(s.td,{children:"Mode 3"}),(0,n.jsx)(s.td,{children:"Local function returning context for the LLM"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"contextWebhookUrl"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"string"})}),(0,n.jsx)(s.td,{children:"Mode 4"}),(0,n.jsx)(s.td,{children:"URL to POST context request to; expects context response"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"modelId"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"string"})}),(0,n.jsx)(s.td,{children:"Modes 3, 4"}),(0,n.jsx)(s.td,{children:"LLM model identifier"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"webhookTokenName"})}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"string"})}),(0,n.jsx)(s.td,{children:"Modes 2, 4"}),(0,n.jsx)(s.td,{children:"Env var name holding the webhook auth token"})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:["All three registration functions support the same four execution modes. See the ",(0,n.jsx)(s.a,{href:"/dialai/docs/guides/registering-specialists",children:"registering specialists guide"})," for full details."]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},8453(e,s,t){t.d(s,{R:()=>c,x:()=>o});var i=t(6540);const n={},r=i.createContext(n);function c(e){const s=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),i.createElement(r.Provider,{value:s},e.children)}}}]);