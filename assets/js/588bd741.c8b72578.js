"use strict";(globalThis.webpackChunkdialai_website=globalThis.webpackChunkdialai_website||[]).push([[4324],{3014(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"getting-started/quick-start","title":"Quick Start","description":"Build your first DIAL state machine with specialists.","source":"@site/docs/getting-started/quick-start.md","sourceDirName":"getting-started","slug":"/getting-started/quick-start","permalink":"/dialai/docs/getting-started/quick-start","draft":false,"unlisted":false,"editUrl":"https://github.com/eloquentanalytics/dialai/tree/main/website/docs/getting-started/quick-start.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Installation","permalink":"/dialai/docs/getting-started/installation"},"next":{"title":"Core Concepts","permalink":"/dialai/docs/concepts/intro"}}');var t=s(4848),a=s(8453);const o={sidebar_position:2},r="Quick Start",l={},c=[{value:"What We&#39;ll Build",id:"what-well-build",level:2},{value:"Step 1: Define the Machine",id:"step-1-define-the-machine",level:2},{value:"Step 2: Run It",id:"step-2-run-it",level:2},{value:"Step 3: Add a Human Specialist",id:"step-3-add-a-human-specialist",level:2},{value:"Step 4: Use the CLI",id:"step-4-use-the-cli",level:2},{value:"What&#39;s Happening Under the Hood",id:"whats-happening-under-the-hood",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"quick-start",children:"Quick Start"})}),"\n",(0,t.jsx)(n.p,{children:"Build your first DIAL state machine with specialists."}),"\n",(0,t.jsx)(n.h2,{id:"what-well-build",children:"What We'll Build"}),"\n",(0,t.jsxs)(n.p,{children:['A trivially simple machine that asks "Should we complete this task?" and transitions from ',(0,t.jsx)(n.code,{children:"pending"})," to ",(0,t.jsx)(n.code,{children:"done"}),":"]}),"\n",(0,t.jsx)(n.mermaid,{value:"stateDiagram-v2\n    [*] --\x3e pending\n    pending --\x3e done: complete\n    done --\x3e [*]"}),"\n",(0,t.jsx)(n.h2,{id:"step-1-define-the-machine",children:"Step 1: Define the Machine"}),"\n",(0,t.jsxs)(n.p,{children:["Save this as ",(0,t.jsx)(n.code,{children:"examples/simple-machine.json"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "machineName": "simple-task",\n  "initialState": "pending",\n  "defaultState": "done",\n  "states": {\n    "pending": {\n      "prompt": "Should we complete this task?",\n      "transitions": { "complete": "done" }\n    },\n    "done": {}\n  }\n}\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"initialState"})}),": where the session starts (",(0,t.jsx)(n.code,{children:"pending"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"defaultState"})}),": the goal state where the machine comes to rest (",(0,t.jsx)(n.code,{children:"done"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"prompt"})}),": the question specialists answer when the session is in that state"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"transitions"})}),": the available answers and what state each leads to"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Only one transition (",(0,t.jsx)(n.code,{children:"complete"}),") leads to ",(0,t.jsx)(n.code,{children:"done"}),", so the machine always resolves in one cycle."]}),"\n",(0,t.jsx)(n.p,{children:"Or define the same thing in TypeScript:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import type { MachineDefinition } from "dialai";\n\nconst machine: MachineDefinition = {\n  machineName: "simple-task",\n  initialState: "pending",\n  defaultState: "done",\n  states: {\n    pending: {\n      prompt: "Should we complete this task?",\n      transitions: { complete: "done" },\n    },\n    done: {},\n  },\n};\n'})}),"\n",(0,t.jsx)(n.h2,{id:"step-2-run-it",children:"Step 2: Run It"}),"\n",(0,t.jsxs)(n.p,{children:["The quickest way to run a machine is with ",(0,t.jsx)(n.code,{children:"runSession"}),", which registers a built-in proposer that picks the first available transition:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import { runSession } from "dialai";\n\nconst session = await runSession(machine);\n\nconsole.log(session.currentState); // "done"\n'})}),"\n",(0,t.jsx)(n.p,{children:"That's it. One cycle, done."}),"\n",(0,t.jsx)(n.h2,{id:"step-3-add-a-human-specialist",children:"Step 3: Add a Human Specialist"}),"\n",(0,t.jsx)(n.p,{children:"The real point of DIAL is that humans can participate. Let's walk through the full API to see how a human votes to complete the task."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:'import {\n  createSession,\n  submitProposal,\n  submitVote,\n  evaluateConsensus,\n  executeTransition,\n} from "dialai";\n\n// Create a session - starts in "pending"\nconst session = createSession(machine);\nconsole.log(session.currentState); // "pending"\n\n// Two specialists each submit a proposal\nconst proposalComplete = submitProposal(\n  session.sessionId,\n  "ai-specialist",\n  "complete",\n  "done",\n  "The task is ready to complete"\n);\n\nconst proposalWait = submitProposal(\n  session.sessionId,\n  "contrarian-ai",\n  "complete",\n  "done",\n  "I agree, let\'s complete it"\n);\n\n// A human votes for proposal A (complete)\nsubmitVote(\n  session.sessionId,\n  "human-reviewer",\n  proposalComplete.proposalId,\n  proposalWait.proposalId,\n  "A",\n  "Yes, let\'s complete this task"\n);\n\n// Evaluate consensus - human votes win immediately\nconst consensus = evaluateConsensus(session.sessionId);\nconsole.log(consensus.consensusReached); // true\nconsole.log(consensus.reasoning);        // "The human preferred: done"\n\n// Execute the winning transition, recording the arbiter\'s reasoning\nexecuteTransition(session.sessionId, "complete", "done", consensus.reasoning);\nconsole.log(session.currentState); // "done"\nconsole.log(session.history);      // [{ fromState: "pending", toState: "done", reasoning: "The human preferred: done", ... }]\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Because the specialist ID ",(0,t.jsx)(n.code,{children:'"human-reviewer"'}),' contains "human", ',(0,t.jsx)(n.code,{children:"evaluateConsensus"})," gives their vote priority. This is ",(0,t.jsx)(n.strong,{children:"human primacy"}),": humans always get the final say."]}),"\n",(0,t.jsx)(n.h2,{id:"step-4-use-the-cli",children:"Step 4: Use the CLI"}),"\n",(0,t.jsx)(n.p,{children:"Run a machine definition from the command line:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"node dist/dialai/cli.js examples/simple-machine.json\n"})}),"\n",(0,t.jsx)(n.p,{children:"Output:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"Machine:       simple-task\nInitial state: pending\nGoal state:    done\nFinal state:   done\nSession ID:    a1b2c3d4-...\n"})}),"\n",(0,t.jsx)(n.h2,{id:"whats-happening-under-the-hood",children:"What's Happening Under the Hood"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Session created"})," in ",(0,t.jsx)(n.code,{children:"initialState"})," (",(0,t.jsx)(n.code,{children:"pending"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Proposers solicited"}),": each returns a proposed transition (",(0,t.jsx)(n.code,{children:"complete"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Votes solicited"})," (if 2+ proposals): pairwise comparisons"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Consensus evaluated"}),": human votes override; otherwise ahead-by-k"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Transition executed"}),": ",(0,t.jsx)(n.code,{children:"currentState"})," moves to ",(0,t.jsx)(n.code,{children:"done"}),", proposals/votes cleared"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Cycle repeats"})," until ",(0,t.jsx)(n.code,{children:"currentState === defaultState"})," (already there, done)"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/dialai/docs/guides/state-machines",children:"State Machines"})}),": Design more complex workflows"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/dialai/docs/guides/registering-specialists",children:"Registering Specialists"})}),": Configure specialists with strategies"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/dialai/docs/guides/implementing-strategies",children:"Implementing Strategies"})}),": Customize strategy functions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/dialai/docs/concepts/intro",children:"Concepts"})}),": Deep dive into DIAL's architecture"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>o,x:()=>r});var i=s(6540);const t={},a=i.createContext(t);function o(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);